<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html">
    <head>
        <title>Introduction</title>
        <script type="text/javascript">
            //<![CDATA[
            function hidePicker(month) {
                if (month != null) {
                    var index = document.getElementById('years').selectedIndex;
                    var value = month + "/" + document.getElementById('years').options[index].value;
                    document.getElementById('monthYearPickerForm:monthYear').value = value;
                }

                document.getElementById('monthYearPicker').style.display = 'none';
            }

            function showPicker(startYear) {
                fillYears(startYear);
                document.getElementById('monthYearPicker').style.display = 'block'; 
            }

            function fillYears(startYear) {
                var currentYear = new Date().getFullYear();
                var endYear = currentYear + 1;
                var defaultSelected;

                for (var year = startYear; year <= endYear; year++) {

                    if (year == currentYear) {
                        defaultSelected = true;
                    }
                    else {
                        defaultSelected = false;
                    }

                    document.getElementById('years').options[endYear - year] = new Option(year, year, defaultSelected);
                }
            }
            //]]>
        </script>
    </head>
    <body>
        <h:form id="monthYearPickerForm">
            <fieldset>
                <label for="monthYear">Month/Year: </label>
                <h:inputText id="monthYear"
                             value="#{testBean.monthYear}"
                             size="6" maxlength="6"
                             converter="monthYearConverter"
                             readonly="true"/>
                <input type="submit"
                       value="calendar"
                       onclick="showPicker(1920); return false;"/>
                <div id="monthYearPicker" style="display:none;">
                    <select id="years">
                    </select>
                    <input type="submit"
                           value="close"
                           onclick="hidePicker(); return false;"/>
                    <div style="display: block;">
                        <input type="submit"
                               value="January"
                               onclick="hidePicker(1); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="February"
                               onclick="hidePicker(2); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="March"
                               onclick="hidePicker(3); return false;"
                               style="width: 100px;"/>
                    </div>
                    <div style="display: block;">
                        <input type="submit"
                               value="April"
                               onclick="hidePicker(4); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="May"
                               onclick="hidePicker(5); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="June"
                               onclick="hidePicker(6); return false;"
                               style="width: 100px;"/>
                    </div>
                    <div style="display: block;">
                        <input type="submit"
                               value="July"
                               onclick="hidePicker(7); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="August"
                               onclick="hidePicker(8); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="September"
                               onclick="hidePicker(9); return false;"
                               style="width: 100px;"/>
                    </div>
                    <div style="display: block;">
                        <input type="submit"
                               value="October"
                               onclick="hidePicker(10); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="November"
                               onclick="hidePicker(11); return false;"
                               style="width: 100px;"/>
                        <input type="submit"
                               value="December"
                               onclick="hidePicker(12); return false;"
                               style="width: 100px;"/>
                    </div>
                </div>
            </fieldset>
        </h:form>
    </body>
</html>
